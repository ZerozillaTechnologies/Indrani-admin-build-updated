(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[22],{101:function(e,t,n){"use strict";var a=n(50),r={getAllUsers:function(e){return a.a.get("/users?admin=1",e)},getUserById:function(e){return a.a.get("/user/".concat(e,"?admin=1"))},deleteUser:function(e){return a.a.delete("/user/".concat(e,"?admin=1"))}};t.a=r},102:function(e,t,n){"use strict";var a=n(50),r={addCoupon:function(e){return a.a.post("/coupon/add",e)},getAllCoupons:function(){return a.a.get("/coupons")},getCouponById:function(e){return a.a.get("/coupon/".concat(e))},updateCoupon:function(e,t){return a.a.put("/coupon/".concat(e),t)},deleteCoupon:function(e){return a.a.delete("/coupon/".concat(e))}};t.a=r},103:function(e,t,n){"use strict";var a=n(50),r={deleteBanner:function(e){return a.a.delete("/banner/deletebanner/".concat(e,"?admin=1"))},getAllBanners:function(){return a.a.get("/banner/getAllbanners?admin=1")},getBannerById:function(e){return a.a.get("/banner/eachbanner/".concat(e,"?admin=1"))},addBanner:function(e){return a.a.post("/banner/upload-banners?admin=1",e)},updateBanner:function(e,t){return a.a.put("/banner/updateBannner/".concat(e,"?admin=1"),t)}};t.a=r},104:function(e,t,n){"use strict";var a=n(50),r={getAllEnquiries:function(){return a.a.get("/admin-get-enquiries")},getUserById:function(e){return a.a.get("/user/".concat(e,"?admin=1"))},deleteEnquiry:function(e){return a.a.delete("/admin/enquiry/".concat(e,"?admin=1"))}};t.a=r},109:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(2),s=n(20),o=n(54),u=n(101),i=n(70),l=n(102),d=n(61),b=n(60),f=n(104),j=n(103),m=n(21),p=n(22),g=n(1),O=function(e){var t=e.id,n=Object(a.useContext)(m.a),r=n.isModalOpen,O=n.closeModal,h=n.setIsUpdate,x=Object(c.h)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(s.Modal,{isOpen:r,onClose:O,children:[Object(g.jsxs)(s.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[Object(g.jsx)("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:Object(g.jsx)(o.o,{})}),Object(g.jsx)("h2",{className:"text-xl font-medium mb-1",children:"Are You Sure! Want to Delete This Record?"}),Object(g.jsx)("p",{children:"Do you really want to delete these records? You can't view this in your list anymore if you delete!"})]}),Object(g.jsxs)(s.ModalFooter,{className:"justify-center",children:[Object(g.jsx)(s.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:O,children:"No, Keep It"}),Object(g.jsx)(s.Button,{onClick:function(){"/products"===x.pathname&&(d.a.deleteProduct(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/category"===x.pathname&&(b.a.deleteCategory(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/customers"===x.pathname&&(u.a.deleteUser(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/coupons"===x.pathname&&(l.a.deleteCoupon(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/enquiries"===x.pathname&&(f.a.deleteEnquiry(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/banners"===x.pathname&&(j.a.deleteBanner(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O()),"/our-staff"===x.pathname&&(i.a.deleteStaff(t).then((function(e){h(!0),Object(p.c)(e.message)})).catch((function(e){return Object(p.b)(e.message)})),O())},className:"w-full sm:w-auto",children:"Yes, Delete It"})]})]})})};t.a=r.a.memo(O)},50:function(e,t,n){"use strict";var a=n(9),r=n(59),c=n.n(r),s=n(15),o=n.n(s),u=c.a.create({baseURL:"http://192.81.213.186:5000",timeout:5e5,headers:{Accept:"application/json","Content-Type":"application/json"}});u.interceptors.request.use((function(e){var t;return o.a.get("adminInfo")&&(t=JSON.parse(o.a.get("adminInfo"))),Object(a.a)(Object(a.a)({},e),{},{headers:{authorization:t?"Bearer ".concat(t.token):null}})}));var i=function(e){return e.data},l={get:function(e,t,n){return u.get(e,t,n).then(i)},post:function(e,t,n){return u.post(e,t,n).then(i)},put:function(e,t,n){return u.put(e,t,n).then(i)},patch:function(e,t,n){return u.patch(e,t,n).then(i)},delete:function(e,t){return u.delete(e,t).then(i)}};t.a=l},56:function(e,t,n){"use strict";var a=n(7),r=n(59),c=n.n(r),s=n(0),o=n(21);t.a=function(e){var t=Object(s.useState)([]||!1),n=Object(a.a)(t,2),r=n[0],u=n[1],i=Object(s.useState)(""),l=Object(a.a)(i,2),d=l[0],b=l[1],f=Object(s.useState)(!0),j=Object(a.a)(f,2),m=j[0],p=j[1],g=Object(s.useContext)(o.a),O=g.isUpdate,h=g.setIsUpdate;return Object(s.useEffect)((function(){var t=!1,n=c.a.CancelToken.source();return e({cancelToken:n.token}).then((function(e){t||(u(e),b(""),p(!1))})).catch((function(e){t||(b(e.message),c.a.isCancel(e),b(e.message),p(!1),u([]))})),h(!1),function(){t=!0,n.cancel("Cancelled in cleanup")}}),[O]),{data:r,error:d,loading:m}}},60:function(e,t,n){"use strict";var a=n(50),r={getAllCategory:function(){return a.a.get("/categories?admin=1")},getCategoryById:function(e){return a.a.get("/category/".concat(e,"?admin=1"))},addCategory:function(e){return a.a.post("/api/category/add",e)},updateCategory:function(e,t){return a.a.put("/category/".concat(e,"?admin=1"),t)},updateStatus:function(e,t){return a.a.put("/category/status/".concat(e,"?admin=1"),t)},deleteCategory:function(e,t){return a.a.patch("/category/".concat(e,"?admin=1"),t)}};t.a=r},61:function(e,t,n){"use strict";var a=n(50),r={getAllProducts:function(){return a.a.get("/api/products")},getStockOutProducts:function(){return a.a.get("/products/stock-out")},getProductById:function(e){return a.a.post("/api/products/".concat(e))},addProduct:function(e){return a.a.post("/api/products/add",e)},addAllProducts:function(e){return a.a.post("/api/products/all",e)},updateProduct:function(e,t){return a.a.put("/api/products/".concat(e),t)},updateStatus:function(e,t){return a.a.put("/product/status/".concat(e,"?admin=1"),t)},deleteProduct:function(e){return a.a.delete("/api/products/".concat(e))},getAllBanners:function(){return a.a.get("/product/banners?admin=1")},addBanner:function(e){return a.a.post("/product/upload-banners?admin=1",e)},updateBanner:function(e,t){return a.a.put("/product/banner/".concat(e,"?admin=1"),t)}};t.a=r},69:function(e,t,n){"use strict";n(0);var a=n(1);t.a=function(e){var t=e.children;return Object(a.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:t})}},70:function(e,t,n){"use strict";var a=n(50),r={registerAdmin:function(e){return a.a.post("/api/admin/register",e)},loginAdmin:function(e){return a.a.post("/api/admin/login?admin=1",e)},forgetPassword:function(e){return a.a.put("/admin/forget-password",e)},resetPassword:function(e){return a.a.put("/admin/reset-password",e)},signUpWithProvider:function(e){return a.a.post("/admin/signup",e)},addStaff:function(e){return a.a.post("/admin/add",e)},getAllStaff:function(e){return a.a.get("/admin/staffs",e)},getStaffById:function(e,t){return a.a.get("/admin/".concat(e),t)},updateStaff:function(e,t){return a.a.put("/admin/update-staffs/".concat(e),t)},deleteStaff:function(e){return a.a.delete("/admin/".concat(e))}};t.a=r},71:function(e,t,n){"use strict";n(0);var a=n(523),r=n.n(a),c=n(1);t.a=function(e){var t=e.loading;return Object(c.jsx)("div",{className:"text-lg text-center py-6",children:Object(c.jsx)(r.a,{color:"#34D399",loading:t,height:25,width:3,radius:3,margin:4})})}},75:function(e,t,n){"use strict";var a=n(7),r=n(72),c=n(521),s=n.n(c),o=n(522),u=n.n(o),i=n(0),l=n(2),d=n(22);t.a=function(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],b=Object(i.useState)(""),f=Object(a.a)(b,2),j=f[0],m=f[1],p=Object(i.useState)(""),g=Object(a.a)(p,2),O=g[0],h=g[1],x=Object(i.useState)(""),v=Object(a.a)(x,2),C=v[0],y=v[1],w=Object(i.useState)(""),S=Object(a.a)(w,2),N=S[0],D=S[1],T=Object(i.useState)(""),B=Object(a.a)(T,2),P=B[0],A=B[1],R=Object(i.useState)(""),I=Object(a.a)(R,2),L=I[0],k=I[1],U=Object(i.useState)([]),F=Object(a.a)(U,2),M=F[0],q=F[1],Y=Object(i.useState)([]),E=Object(a.a)(Y,2),J=E[0],_=E[1],H=Object(i.useState)([]),W=Object(a.a)(H,2),z=W[0],K=W[1],V=Object(i.useState)(""),G=Object(a.a)(V,2),Q=G[0],X=G[1],Z=Object(i.useState)(""),$=Object(a.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(""),ae=Object(a.a)(ne,2),re=ae[0],ce=ae[1],se=Object(i.useState)(1),oe=Object(a.a)(se,2),ue=oe[0],ie=oe[1],le=Object(i.useState)([]),de=Object(a.a)(le,2),be=de[0],fe=de[1],je=Object(i.useState)(""),me=Object(a.a)(je,2),pe=me[0],ge=me[1],Oe=Object(i.useState)(""),he=Object(a.a)(Oe,2),xe=he[0],ve=he[1],Ce=Object(i.useState)(""),ye=Object(a.a)(Ce,2),we=ye[0],Se=ye[1],Ne=Object(i.useState)([]),De=Object(a.a)(Ne,1)[0],Te=Object(i.useRef)(""),Be=Object(i.useRef)(""),Pe=Object(i.useRef)(""),Ae=Object(i.useRef)(""),Re=Object(i.useRef)("");r.extend(s.a),r.extend(u.a);var Ie=Object(l.h)(),Le=Object(i.useMemo)((function(){var t=new Date;t.setDate(t.getDate()-re);var n,a=e;if(console.log(e),"/dashboard"===Ie.pathname){var s=a.filter((function(e){return"pending"===e.status}));q(s);var o=a.filter((function(e){return"processing"===e.status}));_(o);var u=a.filter((function(e){return"delivered"===e.status}));K(u);var i=a.filter((function(e){return r(e.createdAt).isToday()})).reduce((function(e,t){return e+t.total}),0);ge(i);var l=a.filter((function(e){return r(e.createdAt).isBetween((new Date).setDate((new Date).getDate()-30),new Date)})).reduce((function(e,t){return e+t.total}),0);ve(l);var d=a.reduce((function(e,t){return e+t.total}),0);Se(d)}(c&&(a=a.filter((function(e){return e.parent===c}))),"Low"===j&&(a=a.sort((function(e,t){return e.price<t.price&&-1}))),"High"===j&&(a=a.sort((function(e,t){return e.price>t.price&&-1}))),O&&(a=a.filter((function(e){return e.title.toLowerCase().includes(O.toLowerCase())}))),L&&(a=a.filter((function(e){return e.type.toLowerCase().includes(L.toLowerCase())}))),ee&&(a=a.filter((function(e){return e.role===ee}))),C&&(a=a.filter((function(e){var t,n;return e.name.toLowerCase().includes(C.toLowerCase())||(null===e||void 0===e||null===(t=e.phone)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))||(null===e||void 0===e||null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(C.toLowerCase()))}))),N&&(a=a.filter((function(e){return e.title.toLowerCase().includes(N.toLowerCase())||e.couponCode.toLowerCase().includes(N.toLowerCase())}))),Q)&&(a=null===(n=a)||void 0===n?void 0:n.filter((function(e){return e.status===Q})));return P&&(a=a.filter((function(e){return e.contact.toLowerCase().includes(P.toLowerCase())}))),re&&(a=a.filter((function(e){return r(e.createdAt).isBetween(t,new Date)}))),a}),[c,j,e,O,C,N,P,L,Q,ee,re,Ie]),ke=Le.length;Object(i.useEffect)((function(){if(Le){console.log(Le);var e=Le.slice(8*(ue-1),8*ue);fe(e)}}),[Le,ue,8]);return{userRef:Be,searchRef:Te,couponRef:Pe,orderRef:Ae,categoryRef:Re,pending:M,processing:J,delivered:z,todayOrder:pe,monthlyOrder:xe,totalOrder:we,setFilter:o,setSortedField:m,setStatus:X,setRole:te,setTime:ce,handleChangePage:function(e){ie(e)},totalResults:ke,resultsPerPage:8,dataTable:be,serviceData:Le,handleSubmitUser:function(e){e.preventDefault(),y(Be.current.value)},handleSubmitForAll:function(e){e.preventDefault(),h(Te.current.value)},handleSubmitCoupon:function(e){e.preventDefault(),D(Pe.current.value)},handleSubmitOrder:function(e){e.preventDefault(),A(Ae.current.value)},handleSubmitCategory:function(e){e.preventDefault(),k(Re.current.value)},handleOnDrop:function(e){for(var t=0;t<e.length;t++)De.push(e[t].data)},handleUploadProducts:function(){De.length<1?Object(d.b)("Please upload/select csv file first!"):Object(d.c)("CRUD operation disable for demo!")}}}},959:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(20),c=n(56),s=n(75),o=n(99),u=n(101),i=n(71),l=n(69),d=n(7),b=n(14),f=n(72),j=n(54),m=n(97),p=n(109),g=n(21),O=n(1),h=function(e){var t=e.customers,n=Object(a.useState)(""),c=Object(d.a)(n,2),s=c[0],o=c[1],u=Object(a.useContext)(g.a).toggleModal;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{id:s}),Object(O.jsx)(r.TableBody,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)(r.TableRow,{children:[Object(O.jsx)(r.TableCell,{children:Object(O.jsxs)("span",{className:"font-semibold uppercase text-xs",children:[" ",e._id.substring(20,24)]})}),Object(O.jsx)(r.TableCell,{children:Object(O.jsx)("span",{className:"text-sm",children:f(e.createdAt).format("MMM D, YYYY")})}),Object(O.jsx)(r.TableCell,{children:Object(O.jsx)("span",{className:"text-sm",children:e.fullname})}),Object(O.jsxs)(r.TableCell,{children:[Object(O.jsx)("span",{className:"text-sm",children:e.email})," "]}),Object(O.jsx)(r.TableCell,{children:Object(O.jsx)("span",{className:"text-sm font-medium",children:e.phoneno})}),Object(O.jsx)(r.TableCell,{children:Object(O.jsxs)("div",{className:"flex justify-end text-right",children:[Object(O.jsxs)("div",{className:"p-2 cursor-pointer text-gray-400 hover:text-green-600",children:[" ",Object(O.jsx)(b.b,{to:"/customer-order/".concat(e._id),children:Object(O.jsx)(m.a,{id:"view",Icon:j.d,title:"View Order",bgColor:"#34D399"})})]}),Object(O.jsx)("div",{onClick:function(){return t=e._id,o(t),void u();var t},className:"p-2 cursor-pointer text-gray-400 hover:text-red-600",children:Object(O.jsx)(m.a,{id:"delete",Icon:j.o,title:"Delete",bgColor:"#F87171"})})]})})]},e._id)}))})]})};t.default=function(){var e=Object(c.a)(u.a.getAllUsers),t=e.data,n=e.loading,a=Object(s.a)(t),d=a.userRef,b=a.handleChangePage,f=a.totalResults,j=a.resultsPerPage,m=a.dataTable,p=a.serviceData,g=a.handleSubmitUser;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{children:"Customers"}),Object(O.jsx)(r.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(O.jsx)(r.CardBody,{children:Object(O.jsx)("form",{onSubmit:g,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:Object(O.jsxs)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[Object(O.jsx)(r.Input,{ref:d,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",type:"search",name:"search",placeholder:"Search by name/email/phone"}),Object(O.jsx)("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-1"})]})})})}),n?Object(O.jsx)(i.a,{loading:n}):0!==p.length?Object(O.jsxs)(r.TableContainer,{className:"mb-8",children:[Object(O.jsxs)(r.Table,{children:[Object(O.jsx)(r.TableHeader,{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(r.TableCell,{children:"ID"}),Object(O.jsx)(r.TableCell,{children:"Joining Date"}),Object(O.jsx)(r.TableCell,{children:"Name"}),Object(O.jsx)(r.TableCell,{children:"Email"}),Object(O.jsx)(r.TableCell,{children:"Phone"}),Object(O.jsx)(r.TableCell,{className:"text-right",children:"Actions"})]})}),Object(O.jsx)(h,{customers:m})]}),Object(O.jsx)(r.TableFooter,{children:Object(O.jsx)(r.Pagination,{totalResults:f,resultsPerPage:j,onChange:b,label:"Table navigation"})})]}):Object(O.jsx)(o.a,{title:"Customer"})]})}},97:function(e,t,n){"use strict";n(0);var a=n(536),r=n(1);t.a=function(e){var t=e.id,n=e.Icon,c=e.title,s=e.bgColor;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{"data-tip":!0,"data-for":t,children:Object(r.jsx)(n,{})}),Object(r.jsx)(a.a,{id:t,backgroundColor:s,children:Object(r.jsx)("span",{className:"text-sm font-medium",children:c})})]})}},99:function(e,t,n){"use strict";n(0);var a=n.p+"static/media/no-result.ec22e94c.svg",r=n(1);t.a=function(e){var t=e.title;return Object(r.jsxs)("div",{className:"text-center align-middle mx-auto p-5 my-5",children:[Object(r.jsx)("img",{className:"my-4",src:a,alt:"no-result",width:"400"}),Object(r.jsxs)("h2",{className:"text-lg md:text-xl lg:text-2xl xl:text-2xl text-center mt-2 font-medium font-serif text-gray-600",children:["Sorry, we can not find this ",t,Object(r.jsx)("span",{role:"img","aria-labelledby":"img",children:"\ud83d\ude1e"})]})]})}}}]);
//# sourceMappingURL=22.eb99dc18.chunk.js.map