(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[30],{50:function(e,t,n){"use strict";var r=n(9),a=n(59),s=n.n(a),o=n(15),i=n.n(o),c=s.a.create({baseURL:"http://localhost:4023",timeout:5e5,headers:{Accept:"application/json","Content-Type":"application/json"}});c.interceptors.request.use((function(e){var t;return i.a.get("adminInfo")&&(t=JSON.parse(i.a.get("adminInfo"))),Object(r.a)(Object(r.a)({},e),{},{headers:{authorization:t?"Bearer ".concat(t.token):null}})}));var l=function(e){return e.data},u={get:function(e,t,n){return c.get(e,t,n).then(l)},post:function(e,t,n){return c.post(e,t,n).then(l)},put:function(e,t,n){return c.put(e,t,n).then(l)},patch:function(e,t,n){return c.patch(e,t,n).then(l)},delete:function(e,t){return c.delete(e,t).then(l)}};t.a=u},53:function(e,t){var n,r,a=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function m(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=i(m);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},537:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.a.createContext&&a.a.createContext(s),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function l(e){return e&&e.map((function(e,t){return a.a.createElement(e.tag,i({key:t},e.attr),l(e.child))}))}function u(e){return function(t){return a.a.createElement(d,i({attr:i({},e.attr)},t),l(e.child))}}function d(e){var t=function(t){var n,r=e.attr,s=e.size,o=e.title,l=c(e,["attr","size","title"]),u=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&a.a.createElement("title",null,o),e.children)};return void 0!==o?a.a.createElement(o.Consumer,null,(function(e){return t(e)})):t(s)}},559:function(e,t,n){"use strict";var r=n(7),a=n(15),s=n.n(a),o=n(0),i=n(532),c=n(2),l=n(10),u=n(70),d=n(22);t.a=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],m=Object(o.useContext)(l.a).dispatch,f=Object(c.g)(),h=Object(i.a)();return{onSubmit:function(e){var t=e.name,n=e.email,r=e.verifyEmail,o=e.password,i=e.phoneno,c=e.jobrole;a(!0),r?u.a.forgetPassword({verifyEmail:r}).then((function(e){a(!1),Object(d.c)(e.message)})).catch((function(e){a(!1),Object(d.b)(e?e.response.data.message:e.message)})):t?u.a.registerAdmin({fullname:t,email:n,password:o,phoneno:i,jobrole:c}).then((function(e){e&&(a(!1),Object(d.c)("Register Success!"),f.replace("/login"))})).catch((function(e){Object(d.b)(e?e.response.data.message:e.message),a(!1)})):u.a.loginAdmin({email:n,password:o}).then((function(e){e&&(console.log(e),a(!1),Object(d.c)("Login Success!"),m({type:l.c,payload:e}),s.a.set("adminInfo",JSON.stringify(e)),f.replace("/"))})).catch((function(e){console.log(e),Object(d.b)(e?e.response.data.message:e.message),a(!1)}))},register:h.register,handleSubmit:h.handleSubmit,errors:h.formState.errors,loading:n}}},70:function(e,t,n){"use strict";var r=n(50),a={registerAdmin:function(e){return r.a.post("/api/admin/register",e)},loginAdmin:function(e){return r.a.post("/api/admin/login?admin=1",e)},forgetPassword:function(e){return r.a.put("/admin/forget-password",e)},resetPassword:function(e){return r.a.put("/admin/reset-password",e)},signUpWithProvider:function(e){return r.a.post("/admin/signup",e)},addStaff:function(e){return r.a.post("/admin/add",e)},getAllStaff:function(e){return r.a.get("/admin/staffs",e)},getStaffById:function(e,t){return r.a.get("/admin/".concat(e),t)},updateStaff:function(e,t){return r.a.put("/admin/update-staffs/".concat(e),t)},deleteStaff:function(e){return r.a.delete("/admin/".concat(e))}};t.a=a},73:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){var t=e.errorName;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},74:function(e,t,n){"use strict";n(0);var r=n(20),a=n(1);t.a=function(e){var t=e.label;return Object(a.jsx)(r.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},76:function(e,t,n){"use strict";var r=n(9),a=(n(0),n(20)),s=n(1);t.a=function(e){var t=e.register,n=e.defaultValue,o=e.required,i=e.name,c=e.label,l=e.type,u=e.placeholder;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(a.Input,Object(r.a)(Object(r.a)({},t("".concat(i),{required:!o&&"".concat(c," is required!")})),{},{defaultValue:n,type:l,placeholder:u,name:i,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}))})}},954:function(e,t,n){"use strict";n.r(t);n(0);var r=n(14),a=n(20),s=n(581),o=n(73),i=n(74),c=n(76),l=n.p+"static/media/login-office.c7786a89.jpeg",u=n.p+"static/media/login-office-dark.c7786a89.jpeg",d=n(559),m=n(1);t.default=function(){var e=Object(d.a)(),t=e.onSubmit,n=e.register,f=e.handleSubmit,h=e.errors,p=e.loading;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(m.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(m.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(m.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(m.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:l,alt:"Office"}),Object(m.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:u,alt:"Office"})]}),Object(m.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(m.jsxs)("div",{className:"w-full",children:[Object(m.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Login"}),Object(m.jsxs)("form",{onSubmit:f(t),children:[Object(m.jsx)(i.a,{label:"Email"}),Object(m.jsx)(c.a,{register:n,defaultValue:"admin@gmail.com",label:"Email",name:"email",type:"email",placeholder:"john@doe.com"}),Object(m.jsx)(o.a,{errorName:h.email}),Object(m.jsx)("div",{className:"mt-6"}),Object(m.jsx)(i.a,{label:"Password"}),Object(m.jsx)(c.a,{register:n,defaultValue:"12345678",label:"Password",name:"password",type:"password",placeholder:"***************"}),Object(m.jsx)(o.a,{errorName:h.password}),Object(m.jsx)(a.Button,{disabled:p,type:"submit",className:"mt-4 h-12 w-full",to:"/dashboard",children:"Log in"}),Object(m.jsx)("hr",{className:"my-10"}),Object(m.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2 md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-blue-600 h-11 md:h-12 w-full mr-2",children:[Object(m.jsx)(s.b,{className:"w-4 h-4 mr-2"})," ",Object(m.jsx)("span",{className:"ml-2",children:"Login With Facebook"})]}),Object(m.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2  md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-red-500 h-11 md:h-12 w-full",children:[Object(m.jsx)(s.c,{className:"w-4 h-4 mr-2"})," ",Object(m.jsx)("span",{className:"ml-2",children:"Login With Google"})]})]}),Object(m.jsx)("p",{className:"mt-4",children:Object(m.jsx)(r.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/forgot-password",children:"Forgot your password?"})}),Object(m.jsx)("p",{className:"mt-1",children:Object(m.jsx)(r.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/signup",children:"Create account"})})]})})]})})})})}}}]);
//# sourceMappingURL=30.0d56e12e.chunk.js.map