(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[29],{50:function(e,t,n){"use strict";var r=n(9),a=n(59),i=n.n(a),c=n(15),o=n.n(c),s=i.a.create({baseURL:"http://192.81.213.186:5000",timeout:5e5,headers:{Accept:"application/json","Content-Type":"application/json"}});s.interceptors.request.use((function(e){var t;return o.a.get("adminInfo")&&(t=JSON.parse(o.a.get("adminInfo"))),Object(r.a)(Object(r.a)({},e),{},{headers:{authorization:t?"Bearer ".concat(t.token):null}})}));var u=function(e){return e.data},l={get:function(e,t,n){return s.get(e,t,n).then(u)},post:function(e,t,n){return s.post(e,t,n).then(u)},put:function(e,t,n){return s.put(e,t,n).then(u)},patch:function(e,t,n){return s.patch(e,t,n).then(u)},delete:function(e,t){return s.delete(e,t).then(u)}};t.a=l},53:function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var s,u=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):d=-1,u.length&&m())}function m(){if(!l){var e=o(f);l=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},559:function(e,t,n){"use strict";var r=n(7),a=n(15),i=n.n(a),c=n(0),o=n(532),s=n(2),u=n(10),l=n(70),d=n(22);t.a=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],f=Object(c.useContext)(u.a).dispatch,m=Object(s.g)(),h=Object(o.a)();return{onSubmit:function(e){var t=e.name,n=e.email,r=e.verifyEmail,c=e.password,o=e.phoneno,s=e.jobrole;a(!0),r?l.a.forgetPassword({verifyEmail:r}).then((function(e){a(!1),Object(d.c)(e.message)})).catch((function(e){a(!1),Object(d.b)(e?e.response.data.message:e.message)})):t?l.a.registerAdmin({fullname:t,email:n,password:c,phoneno:o,jobrole:s}).then((function(e){e&&(a(!1),Object(d.c)("Register Success!"),m.replace("/login"))})).catch((function(e){Object(d.b)(e?e.response.data.message:e.message),a(!1)})):l.a.loginAdmin({email:n,password:c}).then((function(e){e&&(console.log(e),a(!1),Object(d.c)("Login Success!"),f({type:u.c,payload:e}),i.a.set("adminInfo",JSON.stringify(e)),m.replace("/"))})).catch((function(e){console.log(e),Object(d.b)(e?e.response.data.message:e.message),a(!1)}))},register:h.register,handleSubmit:h.handleSubmit,errors:h.formState.errors,loading:n}}},582:function(e,t,n){"use strict";t.a=n.p+"static/media/forgot-password-office.d1630a33.jpeg"},583:function(e,t,n){"use strict";t.a=n.p+"static/media/forgot-password-office-dark.d1630a33.jpeg"},70:function(e,t,n){"use strict";var r=n(50),a={registerAdmin:function(e){return r.a.post("/api/admin/register",e)},loginAdmin:function(e){return r.a.post("/api/admin/login?admin=1",e)},forgetPassword:function(e){return r.a.put("/admin/forget-password",e)},resetPassword:function(e){return r.a.put("/admin/reset-password",e)},signUpWithProvider:function(e){return r.a.post("/admin/signup",e)},addStaff:function(e){return r.a.post("/admin/add",e)},getAllStaff:function(e){return r.a.get("/admin/staffs",e)},getStaffById:function(e,t){return r.a.get("/admin/".concat(e),t)},updateStaff:function(e,t){return r.a.put("/admin/update-staffs/".concat(e),t)},deleteStaff:function(e){return r.a.delete("/admin/".concat(e))}};t.a=a},73:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){var t=e.errorName;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},74:function(e,t,n){"use strict";n(0);var r=n(20),a=n(1);t.a=function(e){var t=e.label;return Object(a.jsx)(r.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},76:function(e,t,n){"use strict";var r=n(9),a=(n(0),n(20)),i=n(1);t.a=function(e){var t=e.register,n=e.defaultValue,c=e.required,o=e.name,s=e.label,u=e.type,l=e.placeholder;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(a.Input,Object(r.a)(Object(r.a)({},t("".concat(o),{required:!c&&"".concat(s," is required!")})),{},{defaultValue:n,type:u,placeholder:l,name:o,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}))})}},940:function(e,t,n){"use strict";n.r(t);n(0);var r=n(14),a=n(20),i=n(73),c=n(559),o=n(74),s=n(76),u=n(582),l=n(583),d=n(1);t.default=function(){var e=Object(c.a)(),t=e.onSubmit,n=e.register,f=e.handleSubmit,m=e.errors,h=e.loading;return Object(d.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(d.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(d.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(d.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(d.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:u.a,alt:"Office"}),Object(d.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:l.a,alt:"Office"})]}),Object(d.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(d.jsxs)("div",{className:"w-full",children:[Object(d.jsx)("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200",children:"Forgot password"}),Object(d.jsxs)("form",{onSubmit:f(t),children:[Object(d.jsx)(o.a,{label:"Email"}),Object(d.jsx)(s.a,{register:n,label:"Email",name:"verifyEmail",type:"email",placeholder:"john@doe.com"}),Object(d.jsx)(i.a,{errorName:m.verifyEmail}),Object(d.jsx)(a.Button,{disabled:h,type:"submit",block:!0,className:"mt-4 h-12",children:"Recover password"})]}),Object(d.jsx)("p",{className:"mt-4",children:Object(d.jsx)(r.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/login",children:"Already have an account? Login"})})]})})]})})})}}}]);
//# sourceMappingURL=29.87b657fb.chunk.js.map