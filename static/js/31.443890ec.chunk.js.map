{"version":3,"sources":["services/httpService.js","services/OrderServices.js","components/table/Status.js","hooks/useAsync.js","components/Typography/PageTitle.js","components/preloader/Loading.js","hooks/useFilter.js","components/dashboard/CardItem.js","components/dashboard/OrderTable.js","components/dashboard/CardItemTwo.js","pages/Dashboard.js"],"names":["instance","axios","create","baseURL","timeout","headers","Accept","interceptors","request","use","config","adminInfo","Cookies","get","JSON","parse","authorization","token","responseBody","response","data","requests","url","body","then","post","put","patch","delete","OrderServices","getAllOrders","getOrderByUser","id","getOrderById","updateOrder","deleteOrder","Status","status","className","type","useAsync","asyncFunction","useState","setData","error","setError","loading","setLoading","useContext","SidebarContext","isUpdate","setIsUpdate","useEffect","unmounted","source","CancelToken","cancelToken","res","catch","err","message","isCancel","cancel","PageTitle","children","Loading","color","height","width","radius","margin","useFilter","filter","setFilter","sortedField","setSortedField","searchText","setSearchText","searchUser","setSearchUser","searchCoupon","setSearchCoupon","searchOrder","setSearchOrder","categoryType","setCategoryType","pending","setPending","processing","setProcessing","delivered","setDelivered","setStatus","role","setRole","time","setTime","currentPage","setCurrentPage","dataTable","setDataTable","todayOrder","setTodayOrder","monthlyOrder","setMonthlyOrder","totalOrder","setTotalOrder","newProducts","searchRef","useRef","userRef","couponRef","orderRef","categoryRef","dayjs","isBetween","isToday","location","useLocation","serviceData","useMemo","date","Date","setDate","getDate","services","console","log","pathname","orderPending","statusP","orderProcessing","statusO","orderDelivered","statusD","order","createdAt","reduce","preValue","currentValue","total","item","parent","sort","a","b","price","search","title","toLowerCase","includes","staff","name","phone","email","couponCode","contact","totalResults","length","maipulateServices","slice","handleChangePage","p","resultsPerPage","handleSubmitUser","e","preventDefault","current","value","handleSubmitForAll","handleSubmitCoupon","handleSubmitOrder","handleSubmitCategory","handleOnDrop","i","push","handleUploadProducts","notifyError","notifySuccess","CardItem","Icon","quantity","OrderTable","orders","map","created_at","format","_id","CardItemTwo","Math","round","Dashboard","ImStack","FiShoppingCart","ImCreditCard","FiRefreshCw","FiTruck","FiCheck","onChange","label"],"mappings":"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","file":"static/js/31.443890ec.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst instance = axios.create({\r\n  // baseURL: `${process.env.REACT_APP_API_BASE_URL}`,\r\n  baseURL: `http://192.81.213.186:5000`, //for the production\r\n  // baseURL: `http://localhost:4023`, // for the dev\r\n  // baseURL: `http://localhost:5000`,\r\n  timeout: 500000,\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  let adminInfo;\r\n  if (Cookies.get(\"adminInfo\")) {\r\n    adminInfo = JSON.parse(Cookies.get(\"adminInfo\"));\r\n  }\r\n\r\n  return {\r\n    ...config,\r\n    headers: {\r\n      authorization: adminInfo ? `Bearer ${adminInfo.token}` : null,\r\n    },\r\n  };\r\n});\r\n\r\nconst responseBody = (response) => response.data;\r\n\r\nconst requests = {\r\n  get: (url, body, headers) =>\r\n    instance.get(url, body, headers).then(responseBody),\r\n\r\n  post: (url, body, headers) =>\r\n    instance.post(url, body, headers).then(responseBody),\r\n\r\n  put: (url, body, headers) =>\r\n    instance.put(url, body, headers).then(responseBody),\r\n\r\n  patch: (url, body, headers) =>\r\n    instance.patch(url, body, headers).then(responseBody),\r\n\r\n  delete: (url, headers) => instance.delete(url, headers).then(responseBody),\r\n};\r\n\r\nexport default requests;\r\n","import requests from \"./httpService\";\r\n\r\nconst OrderServices = {\r\n  getAllOrders(body) {\r\n    return requests.get(\"/api/orders\", body);\r\n  },\r\n\r\n  getOrderByUser(id, body) {\r\n    return requests.get(`/api/orders/user/${id}`, body);\r\n  },\r\n\r\n  getOrderById(id, body) {\r\n    return requests.get(`/api/orders/${id}`, body);\r\n  },\r\n\r\n  updateOrder(id, body, headers) {\r\n    return requests.put(`/api/orders/${id}`, body);\r\n  },\r\n\r\n  deleteOrder(id) {\r\n    return requests.delete(`/api/orders/${id}`);\r\n  },\r\n\r\n  // getAllRentalsOrders(body) {\r\n  //   return requests.get('/rentals?admin=1', body);\r\n  // },\r\n};\r\n\r\nexport default OrderServices;\r\n","import React from 'react';\r\nimport { Badge } from '@windmill/react-ui';\r\n\r\nconst Status = ({ status }) => {\r\n  return (\r\n    <>\r\n      <span className=\"font-serif\">\r\n        {status === 'pending' && <Badge type=\"warning\">{status}</Badge>}\r\n        {status === 'processing' && <Badge>{status}</Badge>}\r\n        {status === 'delivered' && <Badge type=\"success\">{status}</Badge>}\r\n        {status === 'cancel' && <Badge type=\"danger\">{status}</Badge>}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Status;\r\n","import axios from 'axios';\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport { SidebarContext } from '../context/SidebarContext';\r\n\r\nconst useAsync = (asyncFunction) => {\r\n  const [data, setData] = useState([] || {});\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const { isUpdate, setIsUpdate } = useContext(SidebarContext);\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    let source = axios.CancelToken.source();\r\n\r\n    asyncFunction({ cancelToken: source.token })\r\n      .then((res) => {\r\n        // console.log(res)\r\n        if (!unmounted) {\r\n          setData(res);\r\n          setError('');\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (!unmounted) {\r\n          setError(err.message);\r\n          if (axios.isCancel(err)) {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          } else {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          }\r\n        }\r\n      });\r\n\r\n    setIsUpdate(false);\r\n\r\n    return () => {\r\n      unmounted = true;\r\n      source.cancel('Cancelled in cleanup');\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isUpdate]);\r\n\r\n  return {\r\n    data,\r\n    error,\r\n    loading,\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n","import React from 'react'\r\n\r\nconst PageTitle = ({ children }) => {\r\n  return (\r\n    <h1 className=\"my-6 text-lg font-bold text-gray-700 dark:text-gray-300\">{children}</h1>\r\n  )\r\n}\r\n\r\nexport default PageTitle\r\n","import React from \"react\";\r\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\r\n\r\nconst Loading = ({ loading }) => {\r\n  return (\r\n    <div className=\"text-lg text-center py-6\">\r\n      <ScaleLoader\r\n        color=\"#34D399\"\r\n        loading={loading}\r\n        height={25}\r\n        width={3}\r\n        radius={3}\r\n        margin={4}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import * as dayjs from 'dayjs';\r\nimport isBetween from 'dayjs/plugin/isBetween';\r\nimport isToday from 'dayjs/plugin/isToday';\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport { notifyError, notifySuccess } from '../utils/toast';\r\n\r\nconst useFilter = (data) => {\r\n  // console.log(data)\r\n  const [filter, setFilter] = useState('');\r\n  const [sortedField, setSortedField] = useState('');\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchUser, setSearchUser] = useState('');\r\n  const [searchCoupon, setSearchCoupon] = useState('');\r\n  const [searchOrder, setSearchOrder] = useState('');\r\n  const [categoryType, setCategoryType] = useState('');\r\n  const [pending, setPending] = useState([]);\r\n  const [processing, setProcessing] = useState([]);\r\n  const [delivered, setDelivered] = useState([]);\r\n  const [status, setStatus] = useState('');\r\n  const [role, setRole] = useState('');\r\n  const [time, setTime] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [dataTable, setDataTable] = useState([]); //tableTable for showing on table according to filtering\r\n  const [todayOrder, setTodayOrder] = useState('');\r\n  const [monthlyOrder, setMonthlyOrder] = useState('');\r\n  const [totalOrder, setTotalOrder] = useState('');\r\n  const [newProducts] = useState([]);\r\n  const searchRef = useRef('');\r\n  const userRef = useRef('');\r\n  const couponRef = useRef('');\r\n  const orderRef = useRef('');\r\n  const categoryRef = useRef('');\r\n  dayjs.extend(isBetween);\r\n  dayjs.extend(isToday);\r\n  const location = useLocation();\r\n\r\n  //service data filtering\r\n  const serviceData = useMemo(() => {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - time);\r\n    let services = data;\r\n    console.log(data);\r\n    if (location.pathname === '/dashboard') {\r\n      const orderPending = services.filter(\r\n        (statusP) => statusP.status === 'pending'\r\n      );\r\n      setPending(orderPending);\r\n\r\n      const orderProcessing = services.filter(\r\n        (statusO) => statusO.status === 'processing'\r\n      );\r\n      setProcessing(orderProcessing);\r\n\r\n      const orderDelivered = services.filter(\r\n        (statusD) => statusD.status === 'delivered'\r\n      );\r\n      setDelivered(orderDelivered);\r\n\r\n      //daily total order calculation\r\n      const todayServices = services.filter((order) =>\r\n        dayjs(order.createdAt).isToday()\r\n      );\r\n      const todayOrder = todayServices.reduce(\r\n        (preValue, currentValue) => preValue + currentValue.total,\r\n        0\r\n      );\r\n      setTodayOrder(todayOrder);\r\n\r\n      //monthly order calculation\r\n      const monthlyServices = services.filter((order) =>\r\n        dayjs(order.createdAt).isBetween(\r\n          new Date().setDate(new Date().getDate() - 30),\r\n          new Date()\r\n        )\r\n      );\r\n\r\n      const monthlyOrder = monthlyServices.reduce(\r\n        (preValue, currentValue) => preValue + currentValue.total,\r\n        0\r\n      );\r\n      setMonthlyOrder(monthlyOrder);\r\n\r\n      //total order calculation\r\n      const totalOrder = services.reduce(\r\n        (preValue, currentValue) => preValue + currentValue.total,\r\n        0\r\n      );\r\n      setTotalOrder(totalOrder);\r\n    }\r\n\r\n    //products filtering\r\n\r\n    if (filter) {\r\n      services = services.filter((item) => item.parent === filter);\r\n    }\r\n\r\n    if (sortedField === 'Low') {\r\n      services = services.sort((a, b) => a.price < b.price && -1);\r\n    }\r\n    if (sortedField === 'High') {\r\n      services = services.sort((a, b) => a.price > b.price && -1);\r\n    }\r\n    if (searchText) {\r\n      services = services.filter((search) =>\r\n        search.title.toLowerCase().includes(searchText.toLowerCase())\r\n      );\r\n    }\r\n\r\n    //category searching\r\n    if (categoryType) {\r\n      services = services.filter((search) =>\r\n        search.type.toLowerCase().includes(categoryType.toLowerCase())\r\n      );\r\n    }\r\n\r\n    //admin Filtering\r\n\r\n    if (role) {\r\n      services = services.filter((staff) => staff.role === role);\r\n    }\r\n\r\n    //User and Admin filtering\r\n    if (searchUser) {\r\n      services = services.filter(\r\n        (search) =>\r\n          search.name.toLowerCase().includes(searchUser.toLowerCase()) ||\r\n          search?.phone?.toLowerCase().includes(searchUser.toLowerCase()) ||\r\n          search?.email?.toLowerCase().includes(searchUser.toLowerCase())\r\n      );\r\n    }\r\n\r\n    //Coupon filtering\r\n\r\n    if (searchCoupon) {\r\n      services = services.filter(\r\n        (search) =>\r\n          search.title.toLowerCase().includes(searchCoupon.toLowerCase()) ||\r\n          search.couponCode.toLowerCase().includes(searchCoupon.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // order filtering\r\n    if (status) {\r\n      services = services?.filter((order) => order.status === status);\r\n    }\r\n    if (searchOrder) {\r\n      services = services.filter((search) =>\r\n        search.contact.toLowerCase().includes(searchOrder.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (time) {\r\n      services = services.filter((order) =>\r\n        dayjs(order.createdAt).isBetween(date, new Date())\r\n      );\r\n    }\r\n\r\n    return services;\r\n  }, [\r\n    filter,\r\n    sortedField,\r\n    data,\r\n    searchText,\r\n    searchUser,\r\n    searchCoupon,\r\n    searchOrder,\r\n    categoryType,\r\n    status,\r\n    role,\r\n    time,\r\n    location,\r\n  ]);\r\n\r\n  //pagination functionality start\r\n\r\n  const resultsPerPage = 8;\r\n  const totalResults = serviceData.length;\r\n\r\n  const handleChangePage = (p) => {\r\n    setCurrentPage(p);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (serviceData) {\r\n      console.log(serviceData)\r\n      const maipulateServices = serviceData.slice(\r\n        (currentPage - 1) * resultsPerPage,\r\n        currentPage * resultsPerPage\r\n      )\r\n      setDataTable(maipulateServices);\r\n    }\r\n    \r\n  }, [serviceData, currentPage, resultsPerPage]);\r\n\r\n  //pagination functionality end\r\n\r\n  //table form submit function for search start\r\n\r\n  const handleSubmitForAll = (e) => {\r\n    e.preventDefault();\r\n    setSearchText(searchRef.current.value);\r\n  };\r\n\r\n  const handleSubmitUser = (e) => {\r\n    e.preventDefault();\r\n    setSearchUser(userRef.current.value);\r\n  };\r\n\r\n  const handleSubmitCoupon = (e) => {\r\n    e.preventDefault();\r\n    setSearchCoupon(couponRef.current.value);\r\n  };\r\n\r\n  const handleSubmitOrder = (e) => {\r\n    e.preventDefault();\r\n    setSearchOrder(orderRef.current.value);\r\n  };\r\n\r\n  const handleSubmitCategory = (e) => {\r\n    e.preventDefault();\r\n    setCategoryType(categoryRef.current.value);\r\n  };\r\n\r\n  //table form submit function for search end\r\n\r\n  //handle submit multiple product data with csv format\r\n\r\n  const handleOnDrop = (data) => {\r\n    for (let i = 0; i < data.length; i++) {\r\n      newProducts.push(data[i].data);\r\n    }\r\n  };\r\n\r\n  const handleUploadProducts = () => {\r\n    if (newProducts.length < 1) {\r\n      notifyError('Please upload/select csv file first!');\r\n    } else {\r\n      notifySuccess('CRUD operation disable for demo!');\r\n      // ProductServices.addAllProducts(newProducts)\r\n      //   .then((res) => {\r\n      //     notifySuccess(res.message);\r\n      //   })\r\n      //   .catch((err) => notifyError(err.message));\r\n    }\r\n  };\r\n\r\n  return {\r\n    userRef,\r\n    searchRef,\r\n    couponRef,\r\n    orderRef,\r\n    categoryRef,\r\n    pending,\r\n    processing,\r\n    delivered,\r\n    todayOrder,\r\n    monthlyOrder,\r\n    totalOrder,\r\n    setFilter,\r\n    setSortedField,\r\n    setStatus,\r\n    setRole,\r\n    setTime,\r\n    handleChangePage,\r\n    totalResults,\r\n    resultsPerPage,\r\n    dataTable,\r\n    serviceData,\r\n    handleSubmitUser,\r\n    handleSubmitForAll,\r\n    handleSubmitCoupon,\r\n    handleSubmitOrder,\r\n    handleSubmitCategory,\r\n    handleOnDrop,\r\n    handleUploadProducts,\r\n  };\r\n};\r\n\r\nexport default useFilter;\r\n","import React from 'react';\r\nimport { Card, CardBody } from '@windmill/react-ui';\r\n\r\nconst CardItem = ({ title, Icon, quantity, className}) => {\r\n  return (\r\n    <>\r\n      <Card className=\"flex h-full\">\r\n        <CardBody className=\"flex items-center border border-gray-200 dark:border-gray-800 w-full rounded-lg\">\r\n          <div\r\n            className={`flex items-center justify-center p-3 rounded-full h-12 w-12 text-center mr-4 text-lg ${className}`}\r\n          >\r\n            <Icon />\r\n          </div>\r\n          <div>\r\n            <p className=\"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n              {title}\r\n            </p>\r\n            <p className=\"text-2xl font-bold leading-none text-gray-600 dark:text-gray-200\">\r\n              {quantity}\r\n            </p>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CardItem;\r\n","import React from \"react\";\r\nimport * as dayjs from \"dayjs\";\r\nimport { TableCell, TableBody, TableRow } from \"@windmill/react-ui\";\r\nimport Status from \"../table/Status\";\r\n\r\nconst OrderTable = ({ orders }) => {\r\n  return (\r\n    <>\r\n      <TableBody>\r\n        {orders?.map((order) => (\r\n          <TableRow key={order._id}>\r\n            <TableCell>\r\n              <span className=\"text-sm\">\r\n                {dayjs(order.created_at).format(\"MMM D, YYYY\")}\r\n              </span>\r\n            </TableCell>\r\n\r\n            {/* <TableCell>\r\n              <span className=\"text-sm \">{order.customerDetails.address.district}</span>\r\n            </TableCell>\r\n            <TableCell>\r\n              <div>{order.customerDetails.name}</div>\r\n              {' '}\r\n              <div className=\"text-sm\">{order.customerDetails.email}</div>{' '}\r\n              <div className=\"text-sm\">{order.customerDetails.phoneno}</div>{' '}\r\n            </TableCell>\r\n            <TableCell>\r\n              <span className=\"text-sm font-semibold\">\r\n                {order.product_name}\r\n              </span>\r\n            </TableCell>\r\n            <TableCell>\r\n              <span className=\"text-sm font-semibold\">\r\n                {order.payment_method}\r\n              </span>\r\n            </TableCell>\r\n            <TableCell>\r\n              {' '}\r\n              <span className=\"text-sm font-semibold\">\r\n                &#8377; {Math.round(order.total_amount)}.00\r\n              </span>{' '}\r\n            </TableCell>\r\n            <TableCell>\r\n              <Status status={order.status} />\r\n            </TableCell> */}\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderTable;\r\n","import React from 'react';\r\nimport { Card, CardBody } from '@windmill/react-ui';\r\n\r\nconst CardItemTwo = ({ title, Icon, className, price }) => {\r\n  return (\r\n    <>\r\n      <Card className=\"flex justify-center text-center h-full\">\r\n        <CardBody\r\n          className={`border border-gray-200 dark:border-gray-800 w-full p-6 rounded-lg ${className}`}\r\n        >\r\n          <div className={`text-center inline-block text-3xl ${className}`}>\r\n            <Icon />\r\n          </div>\r\n          <div>\r\n            <p className=\"mb-3 text-base font-medium text-gray-50 dark:text-gray-100\">\r\n              {title}\r\n            </p>\r\n            <p className=\"text-3xl font-bold leading-none text-gray-50 dark:text-gray-50\">\r\n              &#8377; {Math.round(price)}\r\n            </p>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CardItemTwo;\r\n","import React from \"react\";\r\nimport { Bar, Doughnut } from \"react-chartjs-2\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableFooter,\r\n  TableContainer,\r\n  Pagination,\r\n} from \"@windmill/react-ui\";\r\nimport { ImStack, ImCreditCard } from \"react-icons/im\";\r\nimport { FiShoppingCart, FiTruck, FiRefreshCw, FiCheck } from \"react-icons/fi\";\r\nimport {\r\n  barLegends,\r\n  barOptions,\r\n  doughnutLegends,\r\n  doughnutOptions,\r\n} from \"../utils/chartsData\";\r\n\r\nimport useAsync from \"../hooks/useAsync\";\r\nimport useFilter from \"../hooks/useFilter\";\r\nimport OrderServices from \"../services/OrderServices\";\r\nimport Loading from \"../components/preloader/Loading\";\r\nimport ChartCard from \"../components/chart/ChartCard\";\r\nimport CardItem from \"../components/dashboard/CardItem\";\r\nimport ChartLegend from \"../components/chart/ChartLegend\";\r\nimport PageTitle from \"../components/Typography/PageTitle\";\r\nimport OrderTable from \"../components/dashboard/OrderTable\";\r\nimport CardItemTwo from \"../components/dashboard/CardItemTwo\";\r\n\r\nconst Dashboard = () => {\r\n  const { data, loading } = useAsync(OrderServices.getAllOrders);\r\n\r\n  const {\r\n    handleChangePage,\r\n    totalResults,\r\n    resultsPerPage,\r\n    dataTable,\r\n    pending,\r\n    processing,\r\n    delivered,\r\n    todayOrder,\r\n    monthlyOrder,\r\n    totalOrder,\r\n  } = useFilter(data);\r\n\r\n  return (\r\n    <>\r\n      <PageTitle>Dashboard Overview</PageTitle>\r\n\r\n      <div className=\"grid gap-4 mb-8 md:grid-cols-3 xl:grid-cols-3\">\r\n        <CardItemTwo\r\n          title=\"Today Order\"\r\n          Icon={ImStack}\r\n          price={todayOrder}\r\n          className=\"text-white dark:text-green-100 bg-teal-500\"\r\n        />\r\n        <CardItemTwo\r\n          title=\"This Month\"\r\n          Icon={FiShoppingCart}\r\n          price={monthlyOrder}\r\n          className=\"text-white dark:text-green-100 bg-blue-500\"\r\n        />\r\n        <CardItemTwo\r\n          title=\"Total Order\"\r\n          Icon={ImCreditCard}\r\n          price={totalOrder}\r\n          className=\"text-white dark:text-green-100 bg-green-500\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n        <CardItem\r\n          title=\"Total Order\"\r\n          Icon={FiShoppingCart}\r\n          quantity={data.length}\r\n          className=\"text-orange-600 dark:text-orange-100 bg-orange-100 dark:bg-orange-500\"\r\n        />\r\n        <CardItem\r\n          title=\"Order Pending\"\r\n          Icon={FiRefreshCw}\r\n          quantity={pending.length}\r\n          className=\"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500\"\r\n        />\r\n        <CardItem\r\n          title=\"Order Processing\"\r\n          Icon={FiTruck}\r\n          quantity={processing.length}\r\n          className=\"text-teal-600 dark:text-teal-100 bg-teal-100 dark:bg-teal-500\"\r\n        />\r\n        <CardItem\r\n          title=\"Order Delivered\"\r\n          Icon={FiCheck}\r\n          quantity={delivered.length}\r\n          className=\"text-green-600 dark:text-green-100 bg-green-100 dark:bg-green-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* <div className=\"grid gap-4 md:grid-cols-2 my-8\">\r\n        <ChartCard title=\"Conversions This Year\">\r\n          <Bar {...barOptions} />\r\n          <ChartLegend legends={barLegends} />\r\n        </ChartCard>\r\n        <ChartCard title=\"Top Revenue Product\">\r\n          <Doughnut {...doughnutOptions} />\r\n          <ChartLegend legends={doughnutLegends} />\r\n        </ChartCard>\r\n      </div> */}\r\n\r\n      <PageTitle>Recent Order</PageTitle>\r\n      {loading && <Loading loading={loading} />}\r\n      {dataTable && !loading && (\r\n        <TableContainer className=\"mb-8\">\r\n          <Table>\r\n            <TableHeader>\r\n              <tr>\r\n                <TableCell>Order Time</TableCell>\r\n                <TableCell>Delivery Address</TableCell>\r\n                <TableCell>Details</TableCell>\r\n                <TableCell>Product</TableCell>\r\n                <TableCell>Payment method</TableCell>\r\n                <TableCell>Order amount</TableCell>\r\n                <TableCell>Status</TableCell>\r\n              </tr>\r\n            </TableHeader>\r\n            <OrderTable orders={dataTable} />\r\n          </Table>\r\n          <TableFooter>\r\n            <Pagination\r\n              totalResults={totalResults}\r\n              resultsPerPage={resultsPerPage}\r\n              onChange={handleChangePage}\r\n              label=\"Table navigation\"\r\n            />\r\n          </TableFooter>\r\n        </TableContainer>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}