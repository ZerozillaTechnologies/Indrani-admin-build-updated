(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[23],{108:function(e,t,n){"use strict";var a=n(56),c={getAllUsers:function(e){return a.a.get("/users?admin=1",e)},getUserById:function(e){return a.a.get("/user/".concat(e,"?admin=1"))},deleteUser:function(e){return a.a.delete("/user/".concat(e,"?admin=1"))}};t.a=c},109:function(e,t,n){"use strict";var a=n(56),c={addCoupon:function(e){return a.a.post("/api/coupon/add",e)},getAllCoupons:function(){return a.a.get("/api/coupon/")},getCouponById:function(e){return a.a.get("/api/coupon/".concat(e))},updateCoupon:function(e,t){return a.a.put("/api/coupon/".concat(e),t)},deleteCoupon:function(e){return a.a.delete("/api/coupon/".concat(e))}};t.a=c},110:function(e,t,n){"use strict";var a=n(56),c={deleteBanner:function(e){return a.a.delete("/banner/deletebanner/".concat(e))},getAllBanners:function(){return a.a.get("/api/banners/all-banner")},getBannerById:function(e){return a.a.get("/api/banners/".concat(e))},addBanner:function(e){return a.a.post("/api/banners/add",e)},updateBanner:function(e,t){return a.a.put("/banner/updateBannner/".concat(e),t)}};t.a=c},112:function(e,t,n){"use strict";n(0);var a=n.p+"static/media/no-result.ec22e94c.svg",c=n(1);t.a=function(e){var t=e.title;return Object(c.jsxs)("div",{className:"text-center align-middle mx-auto p-5 my-5",children:[Object(c.jsx)("img",{className:"my-4",src:a,alt:"no-result",width:"400"}),Object(c.jsxs)("h2",{className:"text-lg md:text-xl lg:text-2xl xl:text-2xl text-center mt-2 font-medium font-serif text-gray-600",children:["Sorry, we can not find this ",t,Object(c.jsx)("span",{role:"img","aria-labelledby":"img",children:"\ud83d\ude1e"})]})]})}},113:function(e,t,n){"use strict";var a=n(56),c={getAllEnquiries:function(){return a.a.get("/admin-get-enquiries")},getUserById:function(e){return a.a.get("/user/".concat(e,"?admin=1"))},deleteEnquiry:function(e){return a.a.delete("/admin/enquiry/".concat(e,"?admin=1"))}};t.a=c},116:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(2),s=n(20),o=n(60),u=n(108),i=n(76),l=n(109),d=n(62),b=n(63),j=n(113),f=n(110),p=n(21),h=n(22),O=n(1),g=function(e){var t=e.id,n=Object(a.useContext)(p.a),c=n.isModalOpen,g=n.closeModal,m=n.setIsUpdate,x=Object(r.h)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(s.Modal,{isOpen:c,onClose:g,children:[Object(O.jsxs)(s.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[Object(O.jsx)("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:Object(O.jsx)(o.o,{})}),Object(O.jsx)("h2",{className:"text-xl font-medium mb-1",children:"Are You Sure! Want to Delete This Record?"}),Object(O.jsx)("p",{children:"Do you really want to delete these records? You can't view this in your list anymore if you delete!"})]}),Object(O.jsxs)(s.ModalFooter,{className:"justify-center",children:[Object(O.jsx)(s.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:g,children:"No, Keep It"}),Object(O.jsx)(s.Button,{onClick:function(){"/products"===x.pathname&&(d.a.deleteProduct(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/category"===x.pathname&&(b.a.deleteCategory(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/customers"===x.pathname&&(u.a.deleteUser(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/coupons"===x.pathname&&(l.a.deleteCoupon(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/enquiries"===x.pathname&&(j.a.deleteEnquiry(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/banners"===x.pathname&&(f.a.deleteBanner(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g()),"/our-staff"===x.pathname&&(i.a.deleteStaff(t).then((function(e){m(!0),Object(h.c)(e.message)})).catch((function(e){return Object(h.b)(e.message)})),g())},className:"w-full sm:w-auto",children:"Yes, Delete It"})]})]})})};t.a=c.a.memo(g)},1195:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(20),r=n(66),s=n(83),o=n(112),u=n(113),i=n(78),l=n(77),d=n(7),b=n(81),j=n(60),f=n(84),p=n(116),h=n(21),O=n(14),g=n(1),m=function(e){var t=e.enquiries,n=Object(a.useState)(""),r=Object(d.a)(n,2),s=r[0],o=r[1],u=Object(a.useContext)(h.a).toggleModal;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.a,{id:s}),Object(g.jsx)(c.TableBody,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsxs)(c.TableRow,{children:[Object(g.jsx)(c.TableCell,{children:Object(g.jsxs)("span",{className:"font-semibold uppercase text-xs",children:[" ",e._id.substring(20,24)]})}),Object(g.jsx)(c.TableCell,{children:Object(g.jsx)("span",{className:"text-sm",children:b(e.created_at).format("MMM D, YYYY")})}),Object(g.jsx)(c.TableCell,{children:Object(g.jsx)("span",{className:"text-sm",children:e.fullname})}),Object(g.jsxs)(c.TableCell,{children:[Object(g.jsx)("span",{className:"text-sm",children:e.email})," "]}),Object(g.jsx)(c.TableCell,{children:Object(g.jsx)("span",{className:"text-sm font-medium",children:e.phoneno})}),Object(g.jsx)(c.TableCell,{children:Object(g.jsxs)(O.b,{className:"text-sm font-medium",to:"/product/".concat(e.product_id),children:[Object(g.jsx)("label",{children:e.product_name}),Object(g.jsx)("label",{children:e.product_price}),Object(g.jsx)("img",{src:e.product_image,alt:e.product_name,width:"50px",height:"50px",style:{objectFit:"cover"}})]})}),Object(g.jsx)(c.TableCell,{children:Object(g.jsx)("span",{className:"text-sm",children:e.message})}),Object(g.jsx)(c.TableCell,{children:Object(g.jsx)("div",{className:"flex justify-end text-right",children:Object(g.jsx)("div",{onClick:function(){return t=e._id,o(t),void u();var t},className:"p-2 cursor-pointer text-gray-400 hover:text-red-600",children:Object(g.jsx)(f.a,{id:"delete",Icon:j.o,title:"Delete",bgColor:"#F87171"})})})})]},e._id)}))})]})};t.default=function(){var e=Object(r.a)(u.a.getAllEnquiries),t=e.data,n=e.loading,a=Object(s.a)(t),d=a.userRef,b=a.handleChangePage,j=a.totalResults,f=a.resultsPerPage,p=a.dataTable,h=a.serviceData,O=a.handleSubmitUser;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.a,{children:"Enquiries"}),Object(g.jsx)(c.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(g.jsx)(c.CardBody,{children:Object(g.jsx)("form",{onSubmit:O,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:Object(g.jsxs)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[Object(g.jsx)(c.Input,{ref:d,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",type:"search",name:"search",placeholder:"Search by name/email/phone"}),Object(g.jsx)("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-1",children:"Search"})]})})})}),n?Object(g.jsx)(i.a,{loading:n}):0!==h.length?Object(g.jsxs)(c.TableContainer,{className:"mb-8",children:[Object(g.jsxs)(c.Table,{children:[Object(g.jsx)(c.TableHeader,{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)(c.TableCell,{children:"ID"}),Object(g.jsx)(c.TableCell,{children:"Date"}),Object(g.jsx)(c.TableCell,{children:"Name"}),Object(g.jsx)(c.TableCell,{children:"Email"}),Object(g.jsx)(c.TableCell,{children:"Phone"}),Object(g.jsx)(c.TableCell,{children:"Product Details"}),Object(g.jsx)(c.TableCell,{children:"Enquiries"}),Object(g.jsx)(c.TableCell,{className:"text-right",children:"Actions"})]})}),Object(g.jsx)(m,{enquiries:p})]}),Object(g.jsx)(c.TableFooter,{children:Object(g.jsx)(c.Pagination,{totalResults:j,resultsPerPage:f,onChange:b,label:"Table navigation"})})]}):Object(g.jsx)(o.a,{title:"Enquiries"})]})}},56:function(e,t,n){"use strict";var a=n(9),c=n(68),r=n.n(c),s=n(16),o=n.n(s),u=r.a.create({baseURL:"http://192.81.213.186:5000",timeout:5e5,headers:{Accept:"application/json","Content-Type":"application/json"}});u.interceptors.request.use((function(e){var t;return o.a.get("adminInfo")&&(t=JSON.parse(o.a.get("adminInfo"))),Object(a.a)(Object(a.a)({},e),{},{headers:{authorization:t?"Bearer ".concat(t.token):null}})}));var i=function(e){return e.data},l={get:function(e,t,n){return u.get(e,t,n).then(i)},post:function(e,t,n){return u.post(e,t,n).then(i)},put:function(e,t,n){return u.put(e,t,n).then(i)},patch:function(e,t,n){return u.patch(e,t,n).then(i)},delete:function(e,t){return u.delete(e,t).then(i)}};t.a=l},62:function(e,t,n){"use strict";var a=n(56),c={getAllProducts:function(){return a.a.get("/api/products")},getStockOutProducts:function(){return a.a.get("/products/stock-out")},getProductById:function(e){return a.a.post("/api/products/".concat(e))},addProduct:function(e){return console.log("body product",e),a.a.post("/api/products/add",e)},addAllProducts:function(e){return console.log("body",e),a.a.post("/api/products/product-bulk-upload",e)},updateProduct:function(e,t){return a.a.put("/api/products/".concat(e),t)},updateStatus:function(e,t){return a.a.put("/api/products/status/".concat(e),t)},deleteProduct:function(e){return a.a.delete("/api/products/".concat(e))},getAllBanners:function(){return a.a.get("/product/banners")},addBanner:function(e){return a.a.post("/product/upload-banners",e)},updateBanner:function(e,t){return a.a.put("/product/banner/".concat(e),t)}};t.a=c},63:function(e,t,n){"use strict";var a=n(56),c={getAllCategory:function(){return a.a.get("/api/category/")},getCategoryById:function(e){return a.a.get("/api/category/".concat(e))},addCategory:function(e){return a.a.post("/api/category/add",e)},updateCategory:function(e,t){return a.a.put("/api/category/".concat(e),t)},updateStatus:function(e,t){return a.a.put("/api/category/status/".concat(e),t)},deleteCategory:function(e,t){return a.a.patch("/api/category/".concat(e),t)}};t.a=c},66:function(e,t,n){"use strict";var a=n(7),c=n(68),r=n.n(c),s=n(0),o=n(21);t.a=function(e){var t=Object(s.useState)([]||!1),n=Object(a.a)(t,2),c=n[0],u=n[1],i=Object(s.useState)(""),l=Object(a.a)(i,2),d=l[0],b=l[1],j=Object(s.useState)(!0),f=Object(a.a)(j,2),p=f[0],h=f[1],O=Object(s.useContext)(o.a),g=O.isUpdate,m=O.setIsUpdate;return Object(s.useEffect)((function(){var t=!1,n=r.a.CancelToken.source();return e({cancelToken:n.token}).then((function(e){t||(u(e),b(""),h(!1))})).catch((function(e){t||(b(e.message),r.a.isCancel(e),b(e.message),h(!1),u([]))})),m(!1),function(){t=!0,n.cancel("Cancelled in cleanup")}}),[g]),{data:c,error:d,loading:p}}},76:function(e,t,n){"use strict";var a=n(56),c={registerAdmin:function(e){return a.a.post("/api/admin/register",e)},loginAdmin:function(e){return a.a.post("/api/admin/login?admin=1",e)},forgetPassword:function(e){return a.a.put("/admin/forget-password",e)},resetPassword:function(e){return a.a.put("/admin/reset-password",e)},signUpWithProvider:function(e){return a.a.post("/admin/signup",e)},addStaff:function(e){return a.a.post("/admin/add",e)},getAllStaff:function(e){return a.a.get("/admin/staffs",e)},getStaffById:function(e,t){return a.a.get("/admin/".concat(e),t)},updateStaff:function(e,t){return a.a.put("/admin/update-staffs/".concat(e),t)},deleteStaff:function(e){return a.a.delete("/admin/".concat(e))}};t.a=c},77:function(e,t,n){"use strict";n(0);var a=n(1);t.a=function(e){var t=e.children;return Object(a.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:t})}},78:function(e,t,n){"use strict";n(0);var a=n(534),c=n.n(a),r=n(1);t.a=function(e){var t=e.loading;return Object(r.jsx)("div",{className:"text-lg text-center py-6",children:Object(r.jsx)(c.a,{color:"#34D399",loading:t,height:25,width:3,radius:3,margin:4})})}},83:function(e,t,n){"use strict";var a=n(7),c=n(81),r=n(538),s=n.n(r),o=n(539),u=n.n(o),i=n(0),l=n(2),d=n(62),b=n(22);t.a=function(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),r=n[0],o=n[1],j=Object(i.useState)(""),f=Object(a.a)(j,2),p=f[0],h=f[1],O=Object(i.useState)(""),g=Object(a.a)(O,2),m=g[0],x=g[1],v=Object(i.useState)(""),C=Object(a.a)(v,2),y=C[0],w=C[1],S=Object(i.useState)(""),N=Object(a.a)(S,2),T=N[0],D=N[1],P=Object(i.useState)(""),B=Object(a.a)(P,2),A=B[0],L=B[1],R=Object(i.useState)(""),I=Object(a.a)(R,2),k=I[0],U=I[1],q=Object(i.useState)([]),F=Object(a.a)(q,2),E=F[0],M=F[1],_=Object(i.useState)([]),Y=Object(a.a)(_,2),J=Y[0],H=Y[1],W=Object(i.useState)([]),z=Object(a.a)(W,2),K=z[0],G=z[1],Q=Object(i.useState)(""),V=Object(a.a)(Q,2),X=V[0],Z=V[1],$=Object(i.useState)(""),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(""),ce=Object(a.a)(ae,2),re=ce[0],se=ce[1],oe=Object(i.useState)(1),ue=Object(a.a)(oe,2),ie=ue[0],le=ue[1],de=Object(i.useState)([]),be=Object(a.a)(de,2),je=be[0],fe=be[1],pe=Object(i.useState)(""),he=Object(a.a)(pe,2),Oe=he[0],ge=he[1],me=Object(i.useState)(""),xe=Object(a.a)(me,2),ve=xe[0],Ce=xe[1],ye=Object(i.useState)(""),we=Object(a.a)(ye,2),Se=we[0],Ne=we[1],Te=Object(i.useState)([]),De=Object(a.a)(Te,1)[0],Pe=Object(i.useRef)(""),Be=Object(i.useRef)(""),Ae=Object(i.useRef)(""),Le=Object(i.useRef)(""),Re=Object(i.useRef)("");c.extend(s.a),c.extend(u.a);var Ie=Object(l.h)(),ke=Object(i.useMemo)((function(){var t=new Date;t.setDate(t.getDate()-re);var n,a=e;if(console.log(e),"/dashboard"===Ie.pathname){var s=a.filter((function(e){return"pending"===e.status}));M(s);var o=a.filter((function(e){return"processing"===e.status}));H(o);var u=a.filter((function(e){return"delivered"===e.status}));G(u);var i=a.filter((function(e){return c(e.createdAt).isToday()})).reduce((function(e,t){return e+t.total}),0);ge(i);var l=a.filter((function(e){return c(e.createdAt).isBetween((new Date).setDate((new Date).getDate()-30),new Date)})).reduce((function(e,t){return e+t.total}),0);Ce(l);var d=a.reduce((function(e,t){return e+t.total}),0);Ne(d)}(r&&(a=a.filter((function(e){return e.parent===r}))),"Low"===p&&(a=a.sort((function(e,t){return e.price<t.price&&-1}))),"High"===p&&(a=a.sort((function(e,t){return e.price>t.price&&-1}))),m&&(a=a.filter((function(e){return e.title.toLowerCase().includes(m.toLowerCase())}))),k&&(a=a.filter((function(e){return e.type.toLowerCase().includes(k.toLowerCase())}))),te&&(a=a.filter((function(e){return e.role===te}))),y&&(a=a.filter((function(e){var t,n;return e.name.toLowerCase().includes(y.toLowerCase())||(null===e||void 0===e||null===(t=e.phone)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===e||void 0===e||null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))}))),T&&(a=a.filter((function(e){return e.title.toLowerCase().includes(T.toLowerCase())||e.couponCode.toLowerCase().includes(T.toLowerCase())}))),X)&&(a=null===(n=a)||void 0===n?void 0:n.filter((function(e){return e.status===X})));return A&&(a=a.filter((function(e){return e.contact.toLowerCase().includes(A.toLowerCase())}))),re&&(a=a.filter((function(e){return c(e.createdAt).isBetween(t,new Date)}))),a}),[r,p,e,m,y,T,A,k,X,te,re,Ie]),Ue=ke.length;Object(i.useEffect)((function(){if(ke){console.log(ke,":::::::::: ofrder::::::::");var e=ke.slice(8*(ie-1),8*ie);fe(e)}}),[ke,ie,8]);return{userRef:Be,searchRef:Pe,couponRef:Ae,orderRef:Le,categoryRef:Re,pending:E,processing:J,delivered:K,todayOrder:Oe,monthlyOrder:ve,totalOrder:Se,setFilter:o,setSortedField:h,setStatus:Z,setRole:ne,setTime:se,handleChangePage:function(e){le(e)},totalResults:Ue,resultsPerPage:8,dataTable:je,serviceData:ke,handleSubmitUser:function(e){e.preventDefault(),w(Be.current.value)},handleSubmitForAll:function(e){e.preventDefault(),x(Pe.current.value)},handleSubmitCoupon:function(e){e.preventDefault(),D(Ae.current.value)},handleSubmitOrder:function(e){e.preventDefault(),L(Le.current.value)},handleSubmitCategory:function(e){e.preventDefault(),U(Re.current.value)},handleOnDrop:function(e){console.log("data",e);for(var t=0;t<e.length;t++)De.push(e[t].data)},handleUploadProducts:function(){De.length<1?Object(b.b)("Please upload/select csv file first!"):(Object(b.c)("Products Uploaded successfully!"),d.a.addAllProducts(De).then((function(e){Object(b.c)(e.message)})).catch((function(e){return Object(b.b)(e.message)})))}}}},84:function(e,t,n){"use strict";n(0);var a=n(548),c=n(1);t.a=function(e){var t=e.id,n=e.Icon,r=e.title,s=e.bgColor;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{"data-tip":!0,"data-for":t,children:Object(c.jsx)(n,{})}),Object(c.jsx)(a.a,{id:t,backgroundColor:s,children:Object(c.jsx)("span",{className:"text-sm font-medium",children:r})})]})}}}]);
//# sourceMappingURL=23.c03956ef.chunk.js.map