(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[28],{50:function(e,t,n){"use strict";var r=n(9),a=n(60),c=n.n(a),o=n(15),s=n.n(o),i=c.a.create({baseURL:"http://192.81.213.186:5000",timeout:5e5,headers:{Accept:"application/json","Content-Type":"application/json"}});i.interceptors.request.use((function(e){var t;return s.a.get("adminInfo")&&(t=JSON.parse(s.a.get("adminInfo"))),Object(r.a)(Object(r.a)({},e),{},{headers:{authorization:t?"Bearer ".concat(t.token):null}})}));var l=function(e){return e.data},u={get:function(e,t,n){return i.get(e,t,n).then(l)},post:function(e,t,n){return i.post(e,t,n).then(l)},put:function(e,t,n){return i.put(e,t,n).then(l)},patch:function(e,t,n){return i.patch(e,t,n).then(l)},delete:function(e,t){return i.delete(e,t).then(l)}};t.a=u},53:function(e,t){var n,r,a=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:c}catch(e){n=c}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var i,l=[],u=!1,d=-1;function m(){u&&i&&(u=!1,i.length?l=i.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(m);u=!0;for(var t=l.length;t;){for(i=l,l=[];++d<t;)i&&i[d].run();d=-1,t=l.length}i=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new b(e,t)),1!==l.length||u||s(f)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},536:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.a.createContext&&a.a.createContext(c),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function l(e){return e&&e.map((function(e,t){return a.a.createElement(e.tag,s({key:t},e.attr),l(e.child))}))}function u(e){return function(t){return a.a.createElement(d,s({attr:s({},e.attr)},t),l(e.child))}}function d(e){var t=function(t){var n,r=e.attr,c=e.size,o=e.title,l=i(e,["attr","size","title"]),u=c||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&a.a.createElement("title",null,o),e.children)};return void 0!==o?a.a.createElement(o.Consumer,null,(function(e){return t(e)})):t(c)}},559:function(e,t,n){"use strict";var r=n(7),a=n(15),c=n.n(a),o=n(0),s=n(532),i=n(2),l=n(10),u=n(69),d=n(22);t.a=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],m=Object(o.useContext)(l.a).dispatch,f=Object(i.g)(),b=Object(s.a)();return{onSubmit:function(e){var t=e.name,n=e.email,r=e.verifyEmail,o=e.password,s=e.phoneno,i=e.jobrole;a(!0),r?u.a.forgetPassword({verifyEmail:r}).then((function(e){a(!1),Object(d.c)(e.message)})).catch((function(e){a(!1),Object(d.b)(e?e.response.data.message:e.message)})):t?u.a.registerAdmin({fullname:t,email:n,password:o,phoneno:s,jobrole:i}).then((function(e){e&&(a(!1),Object(d.c)("Register Success!"),f.replace("/login"))})).catch((function(e){Object(d.b)(e?e.response.data.message:e.message),a(!1)})):u.a.loginAdmin({email:n,password:o}).then((function(e){e&&(console.log(e),a(!1),Object(d.c)("Login Success!"),m({type:l.c,payload:e}),c.a.set("adminInfo",JSON.stringify(e)),f.replace("/"))})).catch((function(e){console.log(e),Object(d.b)(e?e.response.data.message:e.message),a(!1)}))},register:b.register,handleSubmit:b.handleSubmit,errors:b.formState.errors,loading:n}}},560:function(e,t,n){"use strict";var r=n(9),a=(n(0),n(20)),c=n(1);t.a=function(e){var t=e.setRole,n=e.register,o=e.name,s=e.label;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(a.Select,Object(r.a)(Object(r.a)({onChange:function(e){return t(e.target.value)},className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:o},n("".concat(o),{required:"".concat(s," is required!")})),{},{children:[Object(c.jsx)("option",{value:"",defaultValue:!0,hidden:!0,children:"Staff role"}),Object(c.jsx)("option",{value:"admin",children:"Admin"}),Object(c.jsx)("option",{value:"ceo",children:"CEO"}),Object(c.jsx)("option",{value:"manager",children:"Manager"}),Object(c.jsx)("option",{value:"accountant",children:"Accountant"}),Object(c.jsx)("option",{value:"driver",children:" Driver "}),Object(c.jsx)("option",{value:"security-guard",children:"Security Guard"}),Object(c.jsx)("option",{value:"deliver-person",children:"Delivery Person"})]}))})}},69:function(e,t,n){"use strict";var r=n(50),a={registerAdmin:function(e){return r.a.post("/api/admin/register",e)},loginAdmin:function(e){return r.a.post("/api/admin/login?admin=1",e)},forgetPassword:function(e){return r.a.put("/admin/forget-password",e)},resetPassword:function(e){return r.a.put("/admin/reset-password",e)},signUpWithProvider:function(e){return r.a.post("/admin/signup",e)},addStaff:function(e){return r.a.post("/admin/add",e)},getAllStaff:function(e){return r.a.get("/admin/staffs",e)},getStaffById:function(e,t){return r.a.get("/admin/".concat(e),t)},updateStaff:function(e,t){return r.a.put("/admin/update-staffs/".concat(e),t)},deleteStaff:function(e){return r.a.delete("/admin/".concat(e))}};t.a=a},72:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){var t=e.errorName;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},73:function(e,t,n){"use strict";n(0);var r=n(20),a=n(1);t.a=function(e){var t=e.label;return Object(a.jsx)(r.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},75:function(e,t,n){"use strict";var r=n(9),a=(n(0),n(20)),c=n(1);t.a=function(e){var t=e.register,n=e.defaultValue,o=e.required,s=e.name,i=e.label,l=e.type,u=e.placeholder;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(a.Input,Object(r.a)(Object(r.a)({},t("".concat(s),{required:!o&&"".concat(i," is required!")})),{},{defaultValue:n,type:l,placeholder:u,name:s,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}))})}},956:function(e,t,n){"use strict";n.r(t);n(0);var r=n(14),a=n(20),c=n(582),o=n(72),s=n(75),i=n(73),l=n(560),u=n(559),d=n.p+"static/media/create-account-office.080280cb.jpeg",m=n.p+"static/media/create-account-office-dark.080280cb.jpeg",f=n(1);t.default=function(){var e=Object(u.a)(),t=e.onSubmit,n=e.register,b=e.handleSubmit,h=e.errors,j=e.loading;return Object(f.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(f.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:Object(f.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(f.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(f.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:d,alt:"Office"}),Object(f.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:m,alt:"Office"})]}),Object(f.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(f.jsxs)("div",{className:"w-full",children:[Object(f.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Create account"}),Object(f.jsxs)("form",{onSubmit:b(t),children:[Object(f.jsx)(i.a,{label:"Name"}),Object(f.jsx)(s.a,{register:n,label:"Name",name:"name",type:"text",placeholder:"Admin"}),Object(f.jsx)(o.a,{errorName:h.name}),Object(f.jsx)(i.a,{label:"Email"}),Object(f.jsx)(s.a,{register:n,label:"Email",name:"email",type:"email",placeholder:"john@doe.com"}),Object(f.jsx)(o.a,{errorName:h.email}),Object(f.jsx)(i.a,{label:"Phone No"}),Object(f.jsx)(s.a,{register:n,label:"Phone No",name:"phoneno",type:"number",placeholder:"8080909000"}),Object(f.jsx)(o.a,{errorName:h.phoneno}),Object(f.jsx)(i.a,{label:"Password"}),Object(f.jsx)(s.a,{register:n,label:"Password",name:"password",type:"password",placeholder:"***************"}),Object(f.jsx)(o.a,{errorName:h.password}),Object(f.jsx)(i.a,{label:"Staff Role"}),Object(f.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(f.jsx)(l.a,{register:n,label:"Role",name:"jobrole"}),Object(f.jsx)(o.a,{errorName:h.role})]}),Object(f.jsxs)(a.Label,{className:"mt-6",check:!0,children:[Object(f.jsx)(a.Input,{type:"checkbox"}),Object(f.jsxs)("span",{className:"ml-2",children:["I agree to the"," ",Object(f.jsx)("span",{className:"underline",children:"privacy policy"})]})]}),Object(f.jsx)(a.Button,{disabled:j,type:"submit",className:"mt-4 h-12 w-full",to:"/dashboard",block:!0,children:"Create account"})]}),Object(f.jsx)("hr",{className:"my-10"}),Object(f.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2 md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-blue-600 h-11 md:h-12 w-full mr-2",children:[Object(f.jsx)(c.b,{className:"w-4 h-4 mr-2"})," ",Object(f.jsx)("span",{className:"ml-2",children:"Login With Facebook"})]}),Object(f.jsxs)("button",{disabled:!0,className:"text-sm inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center rounded-md focus:outline-none text-gray-700 bg-gray-100 shadow-sm my-2  md:px-2 lg:px-3 py-4 md:py-3.5 lg:py-4 hover:text-white hover:bg-red-500 h-11 md:h-12 w-full",children:[Object(f.jsx)(c.c,{className:"w-4 h-4 mr-2"})," ",Object(f.jsx)("span",{className:"ml-2",children:"Login With Google"})]}),Object(f.jsx)("p",{className:"mt-4",children:Object(f.jsx)(r.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/login",children:"Already have an account? Login"})})]})})]})})})}}}]);
//# sourceMappingURL=28.5f0cf079.chunk.js.map